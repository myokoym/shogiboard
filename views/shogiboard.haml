!!! XML
!!!
%html
  %head
    %meta{'http-equiv' => 'content-type', :content => 'text/html; charset=utf-8'}
    %meta{'http-equiv' => 'content-style-type', :content => 'text/css'}
    %meta{'http-equiv' => 'content-script-type', :content => 'text/javascript'}
    %title ブラウザ将棋盤 -the Shogi board on web-
    %script{:type => "text/javascript",
            :src  => "http://www.google.com/jsapi"}
    %script{:type => "text/javascript"} google.load("jquery", "1.4.2");
    %script{:type => "text/javascript",
            :src  => "./js/shogiboard.js"}
    %link{:rel => "stylesheet", 
          :type => "text/css",
          :href  => "./css/shogiboard.css"}
  %body
    %h1 ブラウザ将棋盤
    %p.italic -the Shogi board on web-　　ver.0.0.9
    - fu = "./img/fu.gif"
    - kyo = "./img/kyo.gif"
    - kei = "./img/kei.gif"
    - gin = "./img/gin.gif"
    - kin = "./img/kin.gif"
    - kaku = "./img/kaku.gif"
    - hi = "./img/hi.gif"
    - gyoku = "./img/gyoku.gif"
    - ou = "./img/ou.gif"
    - to = "./img/to.gif"
    - narikyo = "./img/narikyo.gif"
    - narikei = "./img/narikei.gif"
    - narigin = "./img/nairgin.gif"
    - uma = "./img/uma.gif"
    - ryu = "./img/ryu.gif"
    - fu_y = "./img/fu_invert.gif"
    - kyo_y = "./img/kyo_invert.gif"
    - kei_y = "./img/kei_invert.gif"
    - gin_y = "./img/gin_invert.gif"
    - kin_y = "./img/kin_invert.gif"
    - kaku_y = "./img/kaku_invert.gif"
    - hi_y = "./img/hi_invert.gif"
    - gyoku_y = "./img/gyoku_invert.gif"
    - ou_y = "./img/ou_invert.gif"
    - to_y = "./img/to_invert.gif"
    - narikyo_y = "./img/narikyo_invert.gif"
    - narikei_y = "./img/narikei_invert.gif"
    - narigin_y = "./img/nairgin_invert.gif"
    - uma_y = "./img/uma_invert.gif"
    - ryu_y = "./img/ryu_invert.gif"
    - koma_place = [[kyo_y,kei_y,gin_y,kin_y,gyoku_y,kin_y,gin_y,kei_y,kyo_y],
                    [nil,hi_y,nil,nil,nil,nil,nil,kaku_y,nil],                                
                    [fu_y,fu_y,fu_y,fu_y,fu_y,fu_y,fu_y,fu_y,fu_y],
                    [nil,nil,nil,nil,nil,nil,nil,nil,nil],
                    [nil,nil,nil,nil,nil,nil,nil,nil,nil],
                    [nil,nil,nil,nil,nil,nil,nil,nil,nil],
                    [fu,fu,fu,fu,fu,fu,fu,fu,fu],
                    [nil,kaku,nil,nil,nil,nil,nil,hi,nil],
                    [kyo,kei,gin,kin,gyoku,kin,gin,kei,kyo]]
    %table{:border => '1'}
      - koma_place.each_with_index do |line, y|
        %tr
          - line.each_with_index do |koma, x|
            - coordinate = (9 - x).to_s + (y + 1).to_s
            %td{:id => coordinate}
              - if koma
                - if y < 5
                  %img.you{:src => koma}
                - else
                  %img.me{:src => koma}
    %div#flag.hidden false
    %div#coordinate.hidden 00
    %div#before.hidden before
    %p#bottom_marker ここに色が付けばJavaScriptはちゃんと動いてるんだからね！
    .footer
      Support by M.Yokoyama＜myokoym[@]gmail.com＞
      %br
      Powered by
      %a{:href => "http://www.ruby-lang.org/ja/"} Ruby
      ,
      %a{:href => "http://heroku.com/"} Heroku
      ,
      %a{:href => "http://www.sinatrarb.com/"} Sinatra
      ,
      %a{:href => "http://haml-lang.com/"} Haml
      ,
      %a{:href => "http://jquery.com/"} jQuery
    

